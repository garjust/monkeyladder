{% extends "base.html" %}

{% block content %}
<div id="profile-page" class="container">
	<div class="row">
	    <div class="span6">
	        <div>
	        	<h2>{{ user.get_profile.name }}'s Profile</h2>
	        </div>
	    </div>
	    <div class="span6">
			{% include "accounts/content/user_info.html" %}
		</div>
	</div>
	<div class="row">
		<div class="span6">
			<div class="row">
				<div id="player-matchup-span" class="span6"></div>
			</div>
            {% include "core/content/watched_feed.html" %}
		</div>
		<div class="span6">
			<div class="row">
				<div id="player-stats-span" class="span6"></div>
			</div>
			<div class="row">
				<div id="match-feed-span" class="span6"></div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
$(function () {
	$("#match-feed-span").load("/ladders/leaderboard/content/matches/?user_id={{ user.id }}", function(response, status, xhr) {
		if (status == "error") {
			alert("MATCH FEED ERROR")
		}
	})
	$("#player-stats-span").load("/ladders/leaderboard/content/stats/?user_id={{ user.id }}", function(response, status, xhr) {
		if (status == "error") {
			alert("STATS ERROR")
		}
	})
	$("#player-matchup-span").load("/ladders/leaderboard/content/matchup/?user_id={{ user.id }}", function(response, status, xhr) {
		if (status == "error") {
			alert("MATCHUP ERROR")
		}
	})
})
</script>
{% endblock %}
