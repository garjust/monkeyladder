<div class="row">
    <div class="span{{ ladder_display_size|default:'6' }} page-header muted">
        <h1 id="ladder-header">{{ ladder.name }}</h1>
        <a id="ladder-cancel-link" class="btn btn-medium absolute" href="{{ ladder.get_absolute_url }}">Cancel</a>
    </div>
</div>
<div class="row">
    <div class="span{{ ladder_display_size|default:'6' }}">
        <form id="edit-ladder-form" action="/ladders/{{ ladder.id }}/edit/" method="post">{% csrf_token %}
	        <table class="table table-striped">
	            <thead>
	                <th>Rank</th>
	                <th>Name</th>
	            </thead>
	            <tbody>
	            {% for ranked in ladder_edit_form.ranked %}
	                <tr class="ladder-rank-table-row">
	                    <td>{{ ranked.field }}</td>
	                    <td>{{ ranked.ranked.player }}</td>
	                </tr>
	            {% endfor %}
	            </tbody>
	        </table>
	        <input id="ladder-save-link" class="btn btn-medium absolute" type="submit" value="Save" />
        </form>
        {% if ladder_edit_form.errors %}
        <div>
            {{ ladder_edit_form.errors }}
        </div>
        {% endif %}
    </div>
</div>
<script type="text/javascript">
    $(function() {
        $("#ladder-cancel-link").position({of: $("#ladder-header"), my: "right center", at: "right center"});
        $("#ladder-save-link").position({of: $("#ladder-cancel-link"), my: "right center", at: "left center"});
    })
    $(function() {
        var form = $("#edit-ladder-form");
        form.submit(function(e) {
            $("#ladder-save-link").attr('disabled', true)
            $("#ladder-display-span").load(form.attr('action'), form.serializeArray(), function(responseText, responseStatus) {
                $("#ladder-save-link").attr('disabled', false)
            });
            e.preventDefault(); 
        });
    });
</script>